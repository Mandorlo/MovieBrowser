<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>Movie Browser</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css">
  <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" type="text/css" href="search-bar.css">
  <link rel="stylesheet" type="text/css" href="styles.css">
</head>

<body>

  <!-- ==================== DIALOG POUR CHANGER DE FILM DIR ============================= -->
  <dialog id="change_root" class="mdl-dialog">
    <h4 class="mdl-dialog__title">Changer le dossier Films</h4>
    <div class="mdl-dialog__content">
      <p id="dialog_root_text">
        Sélectionnes le nouveau dossier de films
      </p><br>
      <input id="path_root" type="hidden">
      <input id="select_root" type="file" webkitdirectory />
    </div>
    <div class="mdl-dialog__actions">
      <button id="ok_change_root" type="button" class="mdl-button ok">Ok</button>
      <button type="button" class="mdl-button close">Close</button>
    </div>
  </dialog>

  <!-- ==================== DIALOG POUR CHANGER DE POSTER ============================= -->
  <dialog id="change_poster" class="mdl-dialog">
    <h4 class="mdl-dialog__title">Changer le poster</h4>
    <div class="mdl-dialog__content">
      <p id="dialog_poster_text">
        Colle ici l'url vers le nouveau poster du film
      </p><br>
      <input id="dialog_poster_url" type="text">
    </div>
    <div class="mdl-dialog__actions">
      <button id="ok_change_poster" type="button" class="mdl-button ok">Ok</button>
      <button type="button" class="mdl-button close">Close</button>
    </div>
  </dialog>


  <!-- ==================== DIALOG POUR CHANGER LES INFOS ============================= -->
  <dialog id="change_infos" class="mdl-dialog">
    <h4 class="mdl-dialog__title">Changer le titre</h4>
    <div class="mdl-dialog__content">
      <p id="dialog_info_text">
        Ecris ici le titre du film
      </p><br>
      <input id="dialog_info_title" type="text">
      <p>Et ici les tags séparés par un espace (mots au singulier ou à l'infinitif)</p><br>
      <input id="dialog_info_tags" type="text">
    </div>
    <div class="mdl-dialog__actions">
      <button id="ok_change_infos" type="button" class="mdl-button ok">Ok</button>
      <button type="button" class="mdl-button close">Close</button>
    </div>
  </dialog>

  <!-- the TOAST object -->
  <div id="notifications" class="mdl-js-snackbar mdl-snackbar">
    <div class="mdl-snackbar__text"></div>
    <button class="mdl-snackbar__action" type="button"></button>
  </div>

  <!-- ==================== MAIN APP ============================= -->
  <!-- <div id="progress" class="mdl-progress mdl-js-progress"></div> -->
  <div id="app"></div>



  <!-- Insert this line above script imports  -->
  <script>
    if (typeof module === 'object') {
      window.module = module;
      module = undefined;
    }
  </script>

  <!-- normal script imports etc  -->
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha256-k2WSCIexGzOj3Euiig+TlR8gA0EmPjuc79OEeY5L45g=" crossorigin="anonymous"></script>
  <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>

  <!-- Insert this line after script imports -->
  <script>
    if (window.module) module = window.module;
  </script>
  <script>
    // You can also require other files to run in this process
    function notify(msg) {
      var data = {message: msg};
      var snackbarContainer = document.querySelector('#notifications').MaterialSnackbar.showSnackbar(data);
    }
    var app = require('./renderer.js');
    var ui = require('./ui.js');
    app.renderDashboard();

    $(document).keypress(e => {
      if (String.fromCharCode(e.which) == "s") {
        e.stopPropagation();
        $("#searchbox").focus();
        $("#searchbox").text("");
      } else if (String.fromCharCode(e.which) == "+") {
        ui.zoomIn()
      } else if (String.fromCharCode(e.which) == "-") {
        ui.zoomOut()
      }
      // else if (String.fromCharCode(e.which) == "c" && e.ctrlKey) { // m <=> -
      //   app.renderDashboard();
      // }
    })
  </script>
</body>

</html>
